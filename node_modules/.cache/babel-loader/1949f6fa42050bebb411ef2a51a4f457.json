{"ast":null,"code":"var _jsxFileName = \"/Users/kristian/Development/code/Mod5/Project/PlantPals-project-frontend/src/containers/HomeContainer.js\";\nimport React, { Component } from 'react';\nimport { API_ROOT } from '../constants';\n\nclass HomeContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getProfile = () => {\n      let token = localStorage.getItem('jwt');\n\n      if (token) {\n        fetch(\"\".concat(API_ROOT, \"/profile\"), {\n          headers: {\n            'Authorization': 'Bearer ' + token\n          }\n        }).then(resp => resp.json()).then(json => {\n          console.log('profile:', json);\n          const _json$user = json.user,\n                username = _json$user.username,\n                plant_care_rating = _json$user.plant_care_rating,\n                avatar = _json$user.avatar;\n          this.setState({\n            user: {\n              username,\n              plant_care_rating,\n              avatar\n            }\n          });\n        });\n      }\n    };\n\n    this.getProfile();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"HomeContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, \"Welcome Home\", React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default HomeContainer;","map":{"version":3,"sources":["/Users/kristian/Development/code/Mod5/Project/PlantPals-project-frontend/src/containers/HomeContainer.js"],"names":["React","Component","API_ROOT","HomeContainer","constructor","props","getProfile","token","localStorage","getItem","fetch","headers","then","resp","json","console","log","user","username","plant_care_rating","avatar","setState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,QAAT,QAAyB,cAAzB;;AAEA,MAAMC,aAAN,SAA4BF,SAA5B,CAAsC;AAErCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACZ,UAAMA,KAAN;;AADY,SAMhBC,UANgB,GAMH,MAAM;AACrB,UAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAZ;;AACA,UAAIF,KAAJ,EAAW;AACVG,QAAAA,KAAK,WAAIR,QAAJ,eAAwB;AAC5BS,UAAAA,OAAO,EAAE;AACR,6BAAiB,YAAYJ;AADrB;AADmB,SAAxB,CAAL,CAKCK,IALD,CAKMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EALd,EAMCF,IAND,CAMME,IAAI,IAAI;AACbC,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,IAAxB;AADa,6BAEiCA,IAAI,CAACG,IAFtC;AAAA,gBAENC,QAFM,cAENA,QAFM;AAAA,gBAEIC,iBAFJ,cAEIA,iBAFJ;AAAA,gBAEuBC,MAFvB,cAEuBA,MAFvB;AAGb,eAAKC,QAAL,CAAc;AAAEJ,YAAAA,IAAI,EAAE;AAAEC,cAAAA,QAAF;AAAYC,cAAAA,iBAAZ;AAA+BC,cAAAA;AAA/B;AAAR,WAAd;AACA,SAVD;AAWA;AACD,KArBkB;;AAElB,SAAKd,UAAL;AACG;;AAoBJgB,EAAAA,MAAM,GAAG;AACR,WACC;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CADD;AAMA;;AAhCoC;;AAmCtC,eAAenB,aAAf","sourcesContent":["import React, {Component} from 'react'\nimport { API_ROOT } from '../constants';\n\nclass HomeContainer extends Component {\n\n\tconstructor(props) {\n        super(props)\n\t\tthis.getProfile()\n    }\n\n\n    getProfile = () => {\n\t\tlet token = localStorage.getItem('jwt')\n\t\tif (token) {\n\t\t\tfetch(`${API_ROOT}/profile`, {\n\t\t\t\theaders: {\n\t\t\t\t\t'Authorization': 'Bearer ' + token\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(resp => resp.json())\n\t\t\t.then(json => {\n\t\t\t\tconsole.log('profile:', json)\n\t\t\t\tconst {username, plant_care_rating, avatar} = json.user\n\t\t\t\tthis.setState({ user: { username, plant_care_rating, avatar} })\n\t\t\t})\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"HomeContainer\">\n\t\t\t\tWelcome Home \n\t\t\t\t<p></p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default HomeContainer"]},"metadata":{},"sourceType":"module"}